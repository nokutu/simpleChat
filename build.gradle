subprojects {
    apply plugin: 'java'

    jar.destinationDir = file('../jars')

    sourceSets.main{
        java.srcDirs = ['src']
    }
}

task run(type: Exec) {
    commandLine 'sh', './run.sh'
}
run.dependsOn subprojects.jar

task docs(type: Javadoc) {
    source subprojects.collect {project -> project.sourceSets.main.allJava } 
    classpath = files(subprojects.collect {project -> project.sourceSets.main.compileClasspath}) 
    destinationDir = new File('.', 'docs')
}
